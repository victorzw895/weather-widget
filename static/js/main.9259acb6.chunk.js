(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{126:function(e,t,a){e.exports=a(252)},131:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(29),o=a.n(i),r=a(23),l=a(24),d=a(25),s=a(26),h=a(27),u=(a(131),a(20)),m=function(e){var t="".concat("https://api.openweathermap.org/data/2.5","/weather?q=").concat(e,"&APPID=").concat("5aa24a3c6ff4a474d5cac71460cc86d0");return fetch(t).then((function(e){return e.json()}))},p=a(261),w=a(260),f=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(d.a)(this,Object(s.a)(t).call(this))).state={id:null,city:"Sydney",input:"",loaded:!1},e._handleChange=e._handleChange.bind(Object(u.a)(e)),e._handleSubmit=e._handleSubmit.bind(Object(u.a)(e)),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getParams",value:function(e){return{city:new URLSearchParams(e).get("city")}}},{key:"componentDidMount",value:function(){var e=this,t=this.getParams(window.location.search),a=this.state.city;m(t.city||a).then((function(a){if(200!==a.cod)throw e.setState({city:t.city,loaded:!0}),new Error("".concat(a.cod," - ").concat(a.message,": ").concat(t.city));console.log(a),e.renderWidget(a.id),e.setState({id:a.id,loaded:!0})})).catch((function(e){return console.error(e)}))}},{key:"renderWidget",value:function(e){window.myWidgetParam?console.log(window.myWidgetParam):window.myWidgetParam=[],window.myWidgetParam.push({id:15,cityid:e,appid:"5aa24a3c6ff4a474d5cac71460cc86d0",units:"metric",containerid:"openweathermap-widget-15"}),function(){var e=document.createElement("script");e.async=!0,e.charset="utf-8",e.src="//openweathermap.org/themes/openweathermap/assets/vendor/owm/js/weather-widget-generator.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}},{key:"_handleChange",value:function(e){this.setState({input:e.target.value})}},{key:"_handleSubmit",value:function(e){this.state.input||(e.preventDefault(),window.location.href="http://localhost:3000/")}},{key:"render",value:function(){var e;return e=this.state.id&&this.state.loaded?c.a.createElement("div",{id:"openweathermap-widget-15"}):!this.state.id&&this.state.loaded?c.a.createElement("h2",null,"Can't find weather for ",this.state.city):c.a.createElement("h2",null,"Loading..."),c.a.createElement(p.a,{textAlign:"center",style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("div",null,c.a.createElement("h1",null,"Weather Widget"),c.a.createElement("form",{onSubmit:this._handleSubmit},c.a.createElement(w.a,{focus:!0,placeholder:"Search City...",action:{content:"Search",color:"blue"},color:"blue",type:"text",name:"city",onChange:this._handleChange})),e))}}]),t}(n.Component),g=(a(251),function(e){function t(){return Object(r.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(f,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[126,1,2]]]);
//# sourceMappingURL=main.9259acb6.chunk.js.map